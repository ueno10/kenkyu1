(this.webpackJsonpkenkyu1=this.webpackJsonpkenkyu1||[]).push([[0],{32:function(e,t,a){e.exports=a(33)},33:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(8),l=a(9),c=a(11),o=a(10),i=a(0),s=a.n(i),u=a(19),m=a(1),f=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={count:"0",filterKeyword:"",policy:"ALL",reportYear:"",show:"default",money:"\u88dc\u6b63\u4e88\u7b97",divisions:"ALL",hideMinistries:new Set,transform:{x:0,y:0,k:1}},n.zoom=m.g().on("zoom",(function(){n.setState({transform:m.a.transform})})),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){m.f(this.refs.ff14).call(this.zoom).on("dblclick.zoom",null)}},{key:"render",value:function(){var e=this,t=this.props.data;console.log(t);var a,r=new Set,l=Object(n.a)(t);try{for(l.s();!(a=l.n()).done;){var c=a.value;r.add(c["\u5e9c\u7701\u5e81"])}}catch(H){l.e(H)}finally{l.f()}var o=new Map(Array.from(r).map((function(e,t){return[e,t]})));if("default"===this.state.show){var i,u=Object(n.a)(t);try{for(u.s();!(i=u.n()).done;){var f=i.value,v=o.get(f["\u5e9c\u7701\u5e81"]);f.fillColor=m.c(v/r.size*360,.5,.5,.6).toString()}}catch(H){u.e(H)}finally{u.f()}}else if("ministry"===this.state.show){var E,d=new Set,p=Object(n.a)(t);try{for(p.s();!(E=p.n()).done;){var y=E.value;d.add(y.cluster_in_ministry)}}catch(H){p.e(H)}finally{p.f()}var h,b=new Map(Array.from(d).map((function(e,t){return[e,t]}))),g=Object(n.a)(t);try{for(g.s();!(h=g.n()).done;){var w=h.value,S=b.get(w.cluster_in_ministry);w.fillColor=m.c(S/d.size*360,.5,.5,.6).toString()}}catch(H){g.e(H)}finally{g.f()}}else if("business"===this.state.show){var j,k=new Set,x=Object(n.a)(t);try{for(x.s();!(j=x.n()).done;){var O=j.value;k.add(O[this.state.policy])}}catch(H){x.e(H)}finally{x.f()}var L,A=new Map(Array.from(k).map((function(e,t){return[e,t]}))),C=Object(n.a)(t);try{for(C.s();!(L=C.n()).done;){var M=L.value,_=A.get(M[this.state.policy]);M.fillColor=m.c(_/k.size*360,.5,.5,.6).toString()}}catch(H){C.e(H)}finally{C.f()}}var N,z=new Set,D=Object(n.a)(t);try{for(D.s();!(N=D.n()).done;){var V=N.value;z.add(V["\u4e3b\u8981\u653f\u7b56\u30fb\u65bd\u7b56"])}}catch(H){D.e(H)}finally{D.f()}var K,Y=new Set,F=Object(n.a)(t);try{for(F.s();!(K=F.n()).done;){var J=K.value;Y.add(J["\u30d7\u30ed\u30b8\u30a7\u30af\u30c8ID"])}}catch(H){F.e(H)}finally{F.f()}new Map(Array.from(Y).map((function(e,t){return[e,t]})));var q=m.d().domain(m.b(t,(function(e){return+e.objective_x}))).range([-450,450]).nice(),B=m.d().domain(m.b(t,(function(e){return+e.objective_y}))).range([450,-450]).nice();"\u88dc\u6b63\u4e88\u7b97"===this.state.money&&console.log(this.state.money);var I=new Array;t.filter((function(t,a){return!e.state.hideMinistries.has(t["\u5e9c\u7701\u5e81"])})).filter((function(t,a){return!0===t["\u4e8b\u696d\u540d"].includes(e.state.filterKeyword)||!0===t["\u4e8b\u696d\u306e\u76ee\u7684"].includes(e.state.filterKeyword)})).filter((function(t,a){return"ALL"===e.state.policy||!0===t["\u4e3b\u8981\u653f\u7b56\u30fb\u65bd\u7b56"].includes(e.state.policy)})).filter((function(t,a){return t["\u516c\u958b\u5e74\u5ea6"]===e.state.reportYear})).filter((function(t,a){return"ALL"===e.state.divisions||t["\u4f1a\u8a08\u533a\u5206"].includes(e.state.divisions)})).filter((function(t,a){return+t[e.state.money]>=1})).map((function(e,t){I.push(e)}));var G=m.e().domain(m.b(I,(function(t){return+t[e.state.money]+10}))).base(10).range([0,15]);return console.log(I),s.a.createElement("div",null,s.a.createElement("div",{className:"refine"},s.a.createElement("div",null,s.a.createElement("b",null,"\u5e74\u5ea6 : "),s.a.createElement("select",{name:"select",id:"select",defalutValue:"",onChange:function(t){e.setState({reportYear:t.target.value})}},s.a.createElement("option",{value:""}),s.a.createElement("option",{value:"2015"},"27\u5e74\u5ea6"),s.a.createElement("option",{value:"2016"},"28\u5e74\u5ea6"),s.a.createElement("option",{value:"2017"},"29\u5e74\u5ea6"),s.a.createElement("option",{value:"2018"},"30\u5e74\u5ea6"),s.a.createElement("option",{value:"2019"},"31\u5e74\u5ea6")))),s.a.createElement("div",{className:"refine"},s.a.createElement("div",null,s.a.createElement("b",null,"\u8868\u793a\u65b9\u6cd5 : "),s.a.createElement("select",{name:"select",id:"select",defalutValue:"default",onChange:function(t){e.setState({show:t.target.value})}},s.a.createElement("option",{value:"default"},"default"),s.a.createElement("option",{value:"ministry"},"ministry"),s.a.createElement("option",{value:"business"},"business"),s.a.createElement("option",{value:"none"},"none")))),s.a.createElement("div",{className:"refine"},s.a.createElement("div",null,s.a.createElement("b",null,"\u4e3b\u8981\u653f\u7b56\u30fb\u65bd\u7b56 : "),s.a.createElement("select",{name:"select",id:"select",defalutValue:"ALL",onChange:function(t){e.setState({policy:t.target.value})}},s.a.createElement("option",{value:"ALL"},"ALL"),s.a.createElement("option",{value:"\u9ad8\u9f62\u793e\u4f1a\u5bfe\u7b56"},"\u9ad8\u9f62\u793e\u4f1a\u5bfe\u7b56"),s.a.createElement("option",{value:"\u7537\u5973\u5171\u540c\u53c2\u753b"},"\u7537\u5973\u5171\u540c\u53c2\u753b"),s.a.createElement("option",{value:"\u5c11\u5b50\u5316\u793e\u4f1a\u5bfe\u7b56"},"\u5c11\u5b50\u5316\u793e\u4f1a\u5bfe\u7b56"),s.a.createElement("option",{value:"\u5b50\u3069\u3082\u30fb\u82e5\u8005\u80b2\u6210\u652f\u63f4"},"\u5b50\u3069\u3082\u30fb\u82e5\u8005\u80b2\u6210\u652f\u63f4"),s.a.createElement("option",{value:"\u56fd\u571f\u5f37\u9771\u5316\u65bd\u7b56"},"\u56fd\u571f\u5f37\u9771\u5316\u65bd\u7b56"),s.a.createElement("option",{value:"\u969c\u5bb3\u8005\u65bd\u7b56"},"\u969c\u5bb3\u8005\u65bd\u7b56"),s.a.createElement("option",{value:"\u5730\u65b9\u5275\u751f"},"\u5730\u65b9\u5275\u751f"),s.a.createElement("option",{value:"\u79d1\u5b66\u6280\u8853\u30fb\u30a4\u30ce\u30d9\u30fc\u30b7\u30e7\u30f3"},"\u79d1\u5b66\u6280\u8853\u30fb\u30a4\u30ce\u30d9\u30fc\u30b7\u30e7\u30f3"),s.a.createElement("option",{value:"\uff29\uff34\u6226\u7565"},"\uff29\uff34\u6226\u7565"),s.a.createElement("option",{value:"\u4e00\u5104\u7dcf\u6d3b\u8e8d\u63a8\u9032"},"\u4e00\u5104\u7dcf\u6d3b\u8e8d\u63a8\u9032"),s.a.createElement("option",{value:"\u6d77\u6d0b\u653f\u7b56"},"\u6d77\u6d0b\u653f\u7b56"),s.a.createElement("option",{value:"\u89b3\u5149\u7acb\u56fd"},"\u89b3\u5149\u7acb\u56fd"),s.a.createElement("option",{value:"\u5b87\u5b99\u958b\u767a\u5229\u7528"},"\u5b87\u5b99\u958b\u767a\u5229\u7528"),s.a.createElement("option",{value:"\u5730\u7403\u6e29\u6696\u5316\u5bfe\u7b56"},"\u5730\u7403\u6e29\u6696\u5316\u5bfe\u7b56"),s.a.createElement("option",{value:"\uff2f\uff24\uff21"},"\uff2f\uff24\uff21"),s.a.createElement("option",{value:"\u81ea\u6bba\u5bfe\u7b56"},"\u81ea\u6bba\u5bfe\u7b56"),s.a.createElement("option",{value:"\u533b\u7642\u5206\u91ce\u306e\u7814\u7a76\u958b\u767a\u95a2\u9023"},"\u533b\u7642\u5206\u91ce\u306e\u7814\u7a76\u958b\u767a\u95a2\u9023"),s.a.createElement("option",{value:"\u6c96\u7e04\u632f\u8208"},"\u6c96\u7e04\u632f\u8208"),s.a.createElement("option",{value:"\u77e5\u7684\u8ca1\u7523"},"\u77e5\u7684\u8ca1\u7523"),s.a.createElement("option",{value:"2020\u5e74\u6771\u4eac\u30aa\u30ea\u30d1\u30e9"},"2020\u5e74\u6771\u4eac\u30aa\u30ea\u30d1\u30e9"),s.a.createElement("option",{value:"\u72af\u7f6a\u88ab\u5bb3\u8005\u7b49\u65bd\u7b56"},"\u72af\u7f6a\u88ab\u5bb3\u8005\u7b49\u65bd\u7b56"),s.a.createElement("option",{value:"\u30af\u30fc\u30eb\u30b8\u30e3\u30d1\u30f3"},"\u30af\u30fc\u30eb\u30b8\u30e3\u30d1\u30f3"),s.a.createElement("option",{value:"\u98df\u80b2\u63a8\u9032"},"\u98df\u80b2\u63a8\u9032"),s.a.createElement("option",{value:"\u305d\u306e\u4ed6"},"\u305d\u306e\u4ed6")))),s.a.createElement("div",{className:"refine"},s.a.createElement("div",null,s.a.createElement("b",null,"\u4e88\u7b97\uff08\u4eee\uff09 : "),s.a.createElement("select",{name:"select",id:"select",defalutValue:"\u88dc\u6b63\u4e88\u7b97",onChange:function(t){e.setState({money:t.target.value})}},s.a.createElement("option",{value:"\u88dc\u6b63\u4e88\u7b97"},"\u88dc\u6b63\u4e88\u7b97"),s.a.createElement("option",{value:"\u5f53\u521d\u4e88\u7b97"},"\u5f53\u521d\u4e88\u7b97"),s.a.createElement("option",{value:"\u524d\u5e74\u5ea6\u304b\u3089\u7e70\u8d8a\u3057"},"\u524d\u5e74\u5ea6\u304b\u3089\u7e70\u8d8a\u3057"),s.a.createElement("option",{value:"\u7fcc\u5e74\u5ea6\u3078\u7e70\u8d8a\u3057"},"\u7fcc\u5e74\u5ea6\u3078\u7e70\u8d8a\u3057"),s.a.createElement("option",{value:"\u57f7\u884c\u984d"},"\u57f7\u884c\u984d")))),s.a.createElement("div",{className:"refine"},s.a.createElement("div",null,s.a.createElement("b",null,"\u4f1a\u8a08\u533a\u5206\uff08\u4eee\uff09 : "),s.a.createElement("select",{name:"select",id:"select",defalutValue:"ALL",onChange:function(t){e.setState({divisions:t.target.value})}},s.a.createElement("option",{value:"ALL"},"ALL"),s.a.createElement("option",{value:"\u4e00\u822c\u4f1a\u8a08"},"\u4e00\u822c\u4f1a\u8a08"),s.a.createElement("option",{value:"\u6771\u65e5\u672c\u5927\u9707\u707d\u5fa9\u8208\u7279\u5225\u4f1a\u8a08"},"\u6771\u65e5\u672c\u5927\u9707\u707d\u5fa9\u8208\u7279\u5225\u4f1a\u8a08")))),s.a.createElement("div",{className:"refine"},s.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.setState({filterKeyword:e.refs.search.value})}},s.a.createElement("input",{ref:"search"}),s.a.createElement("button",null,"\u7d5e\u308a\u8fbc\u307f"))),s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("b",null,"\u4e8b\u696d\u6570\uff1a",I.length.toString()))),s.a.createElement("svg",{style:{cursor:"move"},ref:"ff14",viewBox:"0 0 ".concat(1600," ").concat(1e3)},s.a.createElement("rect",{x:"1",y:"1",width:1598,height:998,fill:"none",stroke:"blue","stroke-width":"2"}),s.a.createElement("g",{transform:"translate(1400,0)"},s.a.createElement("text",{x:0,y:76},"(\u5343\u4e07\u5186)"),G.ticks(7).map((function(e,t){return s.a.createElement("g",null,s.a.createElement("circle",{cx:0,cy:"".concat(30*t+100),r:G(e),fill:"black"}),s.a.createElement("text",{x:20,y:"".concat(30*t+100+6)},e/10))}))),s.a.createElement("g",{transform:"translate(1100,0)"},s.a.createElement("g",{style:{cursor:"pointer"},onClick:function(){0===e.state.hideMinistries.size?e.setState({hideMinistries:new Set(r)}):e.setState({hideMinistries:new Set})}},s.a.createElement("text",{x:0,y:"".concat(76)},"(\u5e9c\u7701\u5e81)")),Array.from(r).map((function(t,a){return s.a.createElement("g",{key:a,style:{cursor:"pointer"},onClick:function(){var a=new Set(e.state.hideMinistries);a.has(t)?a.delete(t):a.add(t),e.setState({hideMinistries:a})}},s.a.createElement("circle",{cx:0,cy:"".concat(30*a+100),r:"10",fill:m.c(a/20*360,.5,.5,.6)}),s.a.createElement("text",{x:10,y:"".concat(30*a+100+6)},t))}))),s.a.createElement("g",{transform:"translate(1400,600)"},s.a.createElement("g",{style:{cursor:"pointer"},onClick:function(){return m.f(e.refs.ff14).call(e.zoom.transform,m.h.scale(1))}},s.a.createElement("text",{x:0,y:76},"\u30ea\u30bb\u30c3\u30c8"))),s.a.createElement("g",{transform:"translate(".concat(this.state.transform.x,",").concat(this.state.transform.y,")scale(").concat(this.state.transform.k,")")},s.a.createElement("g",null,I.map((function(t,a){return s.a.createElement("g",{key:a,transform:"translate(500,".concat(500,")")},s.a.createElement("title",null,t["\u5e9c\u7701\u5e81"]+", ",t["\u4e3b\u8981\u653f\u7b56\u30fb\u65bd\u7b56"]+", ",t["\u4e8b\u696d\u540d"]+", ",+t[e.state.money]/10),s.a.createElement("circle",{style:{cursor:"pointer"},cx:q(+t.objective_x),cy:B(+t.objective_y),r:G(+t[e.state.money]+10),fill:t.fillColor}))}))))))}}]),a}(s.a.Component),v=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={data:null},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.fetch("./data/tsne_+_clusters_list.json").then((function(e){return e.json()})).then((function(t){e.setState({data:t})}))}},{key:"render",value:function(){var e=this.state.data;return s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"section"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"content has-text-centered"},s.a.createElement("div",{style:{margin:"2em"}},e&&s.a.createElement(f,{data:e}))))))}}]),a}(s.a.Component),E=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={error:null},n}return Object(l.a)(a,[{key:"componentDidCatch",value:function(e,t){console.error(e.toString())}},{key:"render",value:function(){var e=this.state.error;return null!=e?s.a.createElement("div",{className:"hero is-danger is-fullheight"},s.a.createElement("div",{class:"hero-body"},s.a.createElement("div",{class:"container"},s.a.createElement("h1",{class:"title"},e.toString())))):s.a.createElement(v,null)}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),a}(s.a.Component);Object(u.render)(s.a.createElement(E,null),document.querySelector("#content"))}},[[32,1,2]]]);
//# sourceMappingURL=main.19b639dd.chunk.js.map